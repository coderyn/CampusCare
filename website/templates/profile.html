{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block content %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>CampusCare - Profile</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="login-card">
    <h2>Student Profile</h2>

  <p><b>Email:</b> {{ current_user.email }}</p>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <p><b>{{ category }}</b>: {{ message }}</p>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="POST">
    <label>Username</label><br>
    <input class="form-input" type="text" name="username" value="{{ current_user.username }}" required><br><br>
    <button class="btn-primary" type="submit">Update</button>
  </form>

  <p><a href="{{ url_for('logout') }}">Logout</a></p>
  <p><a href="{{ url_for('home') }}">Back to home</a></p>
  </div>
  
</body>
</html>
{% endblock %}
